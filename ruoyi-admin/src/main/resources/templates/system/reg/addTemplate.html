<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('新增短信正则模板')" />
    <th:block th:include="include :: datetimepicker-css" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-reg-add">

            <div class="form-group">
                <label class="col-sm-3 control-label" is-required>原始短信
                    ：</label>
                <div class="col-sm-8">
                    <textarea name="originText" class="form-control"  placeholder="原始短信" required></textarea>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" is-required>银行名称
：</label>
                <div class="col-sm-8">
                    <input name="bankName" class="form-control"  placeholder="银行名称必须填写" required></input>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-3 control-label" >自己银行尾号
                    ：</label>
                <div class="col-sm-8">
                    <input name="myselfTailNumber" class="form-control"  placeholder="自己银行尾号"></input>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-3 control-label" >短信交易具体类型
                    ：</label>
                <div class="col-sm-8">
                    <input name="typeDetail" class="form-control"  placeholder="短信交易具体类型,填收入或者支出或者往账"></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" is-required>交易金额
                    ：</label>
                <div class="col-sm-8">
                    <input name="transactionAmount" class="form-control"  placeholder="交易金额,必填" required></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >短信余额
                    ：</label>
                <div class="col-sm-8">
                    <input name="balance" class="form-control"  placeholder="短信余额,无余额不填" ></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >交易时间
                    ：</label>
                <div class="col-sm-8">
                    <input name="transactionDate" class="form-control"  placeholder="根据实际时间添加,无时间不填" ></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >对方银行尾号
                    ：</label>
                <div class="col-sm-8">
                    <input name="counterpartyTailNumber" class="form-control"  placeholder="对方银行尾号,无对方银行尾号不填" ></input>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-3 control-label" >对方户名
                    ：</label>
                <div class="col-sm-8">
                    <input name="counterpartyAccountName" class="form-control"  placeholder="对方户名,无对方户名不填"></input>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-3 control-label" >交易类型
                    ：</label>
                <div class="col-sm-8">
                    <input name="transactionType" class="form-control"  placeholder="交易类型,只能填收入或者支出或者往账"></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >通配预留字段
                    ：</label>
                <div class="col-sm-8">
                    <input name="wildcard" class="form-control"  placeholder="通配预留字段,客服人员人员不需填写"></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >通配预留字段2
                    ：</label>
                <div class="col-sm-8">
                    <input name="wildcard2" class="form-control"  placeholder="通配预留字段2,客服人员人员不需填写"></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">blackKey：</label>
                <div class="col-sm-8">
                    <input name="blackKey" class="form-control" placeholder="冲正拉黑关键字，拉黑时必填"></input>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-3 control-label" >限制解析短信标识
                    ：</label>
                <div class="col-sm-8">
                    <input name="spiltTail" class="form-control"  placeholder="限制解析短信标识,不限制不填,限制解析填1"></input>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" >来源号码：</label>
                <div class="col-sm-8">
                    <input name="sourcePhone" class="form-control" placeholder="来源号码"></input>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" >备注1：</label>
                <div class="col-sm-8">
                    <input name="remark1" class="form-control" placeholder="短信无银行名称时填卡商id,不常用"></input>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >备注2：</label>
                <div class="col-sm-8">
                    <input name="remark2" class="form-control" placeholder="自己银行尾号程序解析错误时,强制走尾号正则,不常用,由技术判定是否添加"></input>
                </div>
            </div>


<!--            <div class="form-group">-->
<!--                <label class="col-sm-3 control-label" is-required>短信模板正则：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <textarea name="regex" class="form-control" required></textarea>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label class="col-sm-3 control-label" is-required>短信模板占位：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <textarea name="template" class="form-control" required></textarea>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label class="col-sm-3 control-label">具体的交易方式-->
<!--：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <textarea name="transactionTypeDetail" class="form-control" ></textarea>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="form-group">    -->
<!--                <label class="col-sm-3 control-label" >平台规定的交易方式：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <select name="transactionType" th:with="type=${@dict.getType('transactionType')}">-->
<!--                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}"-->
<!--                                th:value="${dict.dictValue}"></option>-->
<!--                    </select>-->
<!--                    <span class="help-block m-b-none"><i class="fa fa-info-circle"></i> 代码生成请选择字典属性</span>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="form-group">    -->
<!--                <label class="col-sm-3 control-label">支持解析 ：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <select name="templateFlag" th:with="type=${@dict.getType('templateFlag')}">-->
<!--                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}"-->
<!--                                th:value="${dict.dictValue}"></option>-->
<!--                    </select>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="form-group">    -->
<!--                <label class="col-sm-3 control-label">尾号切割符：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <input name="tailSplit" class="form-control" type="text">-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="form-group">-->
<!--                <label class="col-sm-3 control-label">备注1：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <input name="remark1" class="form-control" type="text">-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="form-group">-->
<!--                <label class="col-sm-3 control-label">备注2：</label>-->
<!--                <div class="col-sm-8">-->
<!--                    <input name="remark2" class="form-control" type="text">-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <a class="btn btn-danger multiple " onclick="validate();"-->
<!--                >-->
<!--                    <i class="fa fa-edit"></i> 校验模板-->
<!--                </a>-->
<!--            </div>-->
        </form>
    </div>
    <th:block th:include="include :: footer" />
    <th:block th:include="include :: datetimepicker-js" />
    <script type="text/javascript">
        var prefix = ctx + "system/reg"
        $("#form-reg-add").validate({
            focusCleanup: true
        });

        function submitHandler() {
            if ($.validate.form()) {
                $.operate.save(prefix + "/addTemplate", $('#form-reg-add').serialize());
            }
        }

        $("input[name='createdDate']").datetimepicker({
            format: "yyyy-mm-dd",
            minView: "month",
            autoclose: true
        });

        $("input[name='updateDate']").datetimepicker({
            format: "yyyy-mm-dd",
            minView: "month",
            autoclose: true
        });


        /* 校验模板 */
        function validate() {
            $.ajax({
                type : "POST",
                url : prefix + "/validate",
                data : $('#form-reg-edit').serialize(),
                async : false,
                error : function(request) {
                    $.modal.alertError("系统错误");
                },
                success : function(data) {

                    $.operate.successCallback(data);
                }
            });
        }
    </script>
</body>
</html>